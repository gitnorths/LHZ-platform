{"version":3,"sources":["webpack:///./src/views/construct/water-detect.vue?51df","webpack:///./src/views/construct/water-detect.vue","webpack:///./src/views/construct/water-detect.vue?9e2e","webpack:///./src/assets/img/construct/icon-location.png"],"names":["class","id","type","size","name","setup","ak","echart","echarts","initBaiduMap","console","log","baiduMap","then","map","BMap","Map","centerAndZoom","Point","setCurrentCity","setMapType","BMAP_HYBRID_MAP","panBy","bdarys","Boundary","get","rs","clearOverlays","count","boundaries","length","pointArray","i","ply","Polygon","strokeColor","strokeWeight","strokeOpacity","fillOpacity","fillColor","addOverlay","concat","getPath","myIcon","Icon","Size","point","point2","marker","Marker","icon","title","marker2","opts","width","height","infoWindow","InfoWindow","addEventListener","openInfoWindow","setViewport","alert","initChart","chart","init","document","getElementById","setOption","xAxis","data","tooltip","trigger","yAxis","series","smooth","window","onresize","resize","dispose","__exports__","render","module","exports"],"mappings":"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","file":"js/chunk-0de6395f.5def8854.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./water-detect.vue?vue&type=style&index=0&id=d962409c&lang=scss&scoped=true\"","<template>\n  <div class=\"construct construct-map\">\n    <div id=\"map\"></div>\n    <div class=\"sidebar\">\n      <div class=\"sidebar__header\">\n        <div class=\"sidebar__title\">\n          <p>水质检测</p>\n          <span></span>\n        </div>\n        <div class=\"sidebar__tooltip\">\n          <div class=\"sidebar__tooltip-header\">\n            <h4>检测取样点</h4>\n            <div class=\"sidebar__tooltip-right\">\n              <p><i style=\"background-color: #00ffcf\"></i>W1</p>\n              <p><i style=\"background-color: #41afe4\"></i>W2</p>\n            </div>\n          </div>\n          <div class=\"sidebar__tooltip-body\">\n            <p><span>1</span>W1: 太仓市浏河镇飞凤路尽头西</p>\n            <p><span>2</span>W2: 太仓市浏河镇南稻香路</p>\n          </div>\n        </div>\n      </div>\n      <div class=\"sidebar__body\">\n        <div class=\"sidebar__scroll\">\n          <div class=\"sidebar__item\">\n            <div class=\"sidebar__title sidebar__body-title\">\n              <p>2016年10月至2017年9月浏河镇示范区监测点总氮变化</p>\n              <el-button-group>\n                <el-button type=\"primary\" size=\"mini\">年度</el-button>\n                <el-button type=\"primary\" size=\"mini\" class=\"active\">\n                  月度\n                </el-button>\n                <el-button type=\"primary\" size=\"mini\">旬度</el-button>\n              </el-button-group>\n            </div>\n            <div class=\"echarts-box\" id=\"myEcharts\"></div>\n          </div>\n          <div class=\"sidebar__item\">\n            <div class=\"sidebar__title sidebar__body-title\">\n              <p>2016年10月至2017年9月浏河镇示范区监测点总磷变化</p>\n              <el-button-group>\n                <el-button type=\"primary\" size=\"mini\">年度</el-button>\n                <el-button type=\"primary\" size=\"mini\" class=\"active\">\n                  月度\n                </el-button>\n                <el-button type=\"primary\" size=\"mini\">旬度</el-button>\n              </el-button-group>\n            </div>\n            <div class=\"echarts-box\"></div>\n          </div>\n          <div class=\"sidebar__item\">\n            <div class=\"sidebar__title sidebar__body-title\">\n              <p>氨氮</p>\n              <el-button-group>\n                <el-button type=\"primary\" size=\"mini\">年度</el-button>\n                <el-button type=\"primary\" size=\"mini\" class=\"active\">\n                  月度\n                </el-button>\n                <el-button type=\"primary\" size=\"mini\">旬度</el-button>\n              </el-button-group>\n            </div>\n            <div class=\"echarts-box\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { defineComponent, onMounted, onUnmounted } from \"vue\";\nimport * as echarts from 'echarts'\nimport { baiduMap } from \"@/components/baiduMap\";\nexport default defineComponent({\n  name: \"AutoMonitor\",\n  setup() {\n    let ak = \"avfc2kLXwHDxyuKCPYpjU3V6AQEEQTE4\";\n    let echart = echarts;\n\n    onMounted(() => {\n      initBaiduMap(); // map\n      initChart(); // echarts\n    });\n\n    onUnmounted(() => {\n      echart.dispose;\n    });\n\n    // 初始化地图\n    function initBaiduMap() {\n      console.log(123);\n      baiduMap(ak).then(() => {\n        // 创建Map实例\n        /* eslint-disable */\n        let map = new BMap.Map(\"map\");\n        console.log(map);\n        // 初始化地图,设置中心点坐标和地图级别\n        map.centerAndZoom(new BMap.Point(121.13215, 31.462382), 11);\n        // 设置地图显示的城市 此项是必须设置的\n        map.setCurrentCity(\"太仓市\");\n        map.setMapType(BMAP_HYBRID_MAP);\n        map.panBy(-350, 10);\n        // map.setTilt(50);\n        //开启鼠标滚轮缩放\n        // map.enableScrollWheelZoom(false);\n        // setTimeout(() => {\n        let bdarys = new BMap.Boundary();\n        bdarys.get(\"太仓市\", function (rs) {\n          //获取行政区域\n          map.clearOverlays(); //清除地图覆盖物\n          map.panBy(-350, 10);\n          let count = rs.boundaries.length; //行政区域的点有多少个\n          if (count === 0) {\n            alert(\"未能获取当前输入行政区域\");\n            return;\n          }\n          let pointArray = [];\n          for (let i = 0; i < count; i++) {\n            let ply = new BMap.Polygon(rs.boundaries[i], {\n              name: \"太仓市\",\n              strokeColor: \"#FFFFFF\",\n              strokeWeight: 1,\n              strokeOpacity: \"1\",\n              fillOpacity: \"0.5\",\n              fillColor: \"#13414C\",\n            }); //建立多边形覆盖物\n            map.addOverlay(ply); //添加覆盖物\n            pointArray = pointArray.concat(ply.getPath());\n            // const marker1 = new BMap.Marker(new BMap.Point(121.13215, 31.462382));\n            let myIcon = new BMap.Icon(\n              require(`@/assets/img/construct/icon-location.png`),\n              new BMap.Size(140, 116)\n            );\n            let markers = [];\n            let point = new BMap.Point(121.186163, 31.589242);\n            let point2 = new BMap.Point(121.186163, 31.509242);\n            let marker = new BMap.Marker(point, {\n              icon: myIcon,\n              title: \"1\",\n            });\n            let marker2 = new BMap.Marker(point2, {\n              icon: myIcon,\n              title: \"1\",\n            });\n            map.addOverlay(marker);\n            map.addOverlay(marker2);\n            // 创建信息窗口\n            let opts = {\n              width: 320,\n              height: 260,\n              title: \"监测点具体情况\",\n            };\n            let infoWindow = new BMap.InfoWindow(\n              `\n              <p>编号：SCYJ-21#</p>\n              <p>地址：太仓市浏河镇</p>\n              <p>监测点等级：省级</p>\n              <p>实施主体：太仓市陈荣蔬菜专业合作社</p>\n              <p>种植面积：130亩</p>\n              <p>种植作物：辣椒</p>\n              <p>海拔：2米</p>\n              `,\n              opts\n            );\n            // 点标记添加点击事件\n            marker.addEventListener(\"click\", function () {\n              map.openInfoWindow(infoWindow, point); // 开启信息窗口\n            });\n            marker2.addEventListener(\"click\", function () {\n              map.openInfoWindow(infoWindow, point2); // 开启信息窗口\n            });\n          }\n          map.setViewport(pointArray); //调整视野\n        });\n        // }, 5000);\n      });\n    }\n\n    // 基础配置一下Echarts\n    function initChart() {\n      let chart = echart.init(document.getElementById(\"myEcharts\"));\n      // 把配置和数据放这里\n      chart.setOption({\n        xAxis: {\n          type: \"category\",\n          data: [\n            \"一月\",\n            \"二月\",\n            \"三月\",\n            \"四月\",\n            \"五月\",\n            \"六月\",\n            \"七月\",\n            \"八月\",\n            \"九月\",\n            \"十月\",\n            \"十一月\",\n            \"十二月\",\n          ],\n        },\n        tooltip: {\n          trigger: \"axis\",\n        },\n        yAxis: {\n          type: \"value\",\n        },\n        series: [\n          {\n            data: [\n              820, 932, 901, 934, 1290, 1330, 1320, 801, 102, 230, 4321, 4129,\n            ],\n            type: \"line\",\n            smooth: true,\n          },\n        ],\n      });\n      window.onresize = function () {\n        //自适应大小\n        chart.resize();\n      };\n    }\n\n    return { initBaiduMap, initChart };\n  },\n});\n</script>\n<style lang=\"scss\" scoped>\n.construct {\n  &-map {\n    position: relative;\n    width: 100vw;\n    height: 100vh;\n    background: {\n      repeat: no-repeat;\n      size: 100%;\n      image: url(~@/assets/img/effect/bg.png);\n    }\n  }\n\n  #map {\n    width: 100vw;\n    height: 100vh;\n  }\n  .echarts-box {\n    height: 26.3vh;\n  }\n}\n</style>","import { render } from \"./water-detect.vue?vue&type=template&id=d962409c&scoped=true\"\nimport script from \"./water-detect.vue?vue&type=script&lang=js\"\nexport * from \"./water-detect.vue?vue&type=script&lang=js\"\n\nimport \"./water-detect.vue?vue&type=style&index=0&id=d962409c&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/LHZ-platform/LHZ-platform/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d962409c\"]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/icon-location.ad208c96.png\";"],"sourceRoot":""}